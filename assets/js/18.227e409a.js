(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{415:function(s,a,t){"use strict";t.r(a);var e=t(56),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"tree-shaking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking"}},[s._v("#")]),s._v(" Tree Shaking")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[s._v("可以理解为摇晃。可以把无用的给去除掉。\n")])])]),t("h3",{attrs:{id:"在开发环境下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在开发环境下"}},[s._v("#")]),s._v(" 在开发环境下")]),s._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("mode "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),s._v("\n")])])]),t("p",[s._v("需要配置")]),s._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("optimization")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("usedExports")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("意思是：只是使用导出的模块。")]),s._v(" "),t("p",[s._v("我们每一个文件都是一个模块。当我们在 index.js 中导入模块.\n模块中暴露出来的模块， 并没有导入 index.js ，说明项目压根没有用到这个东西")]),s._v(" "),t("p",[s._v("为了减少我们的项目的体积，我们可以不把它打包进去。")]),s._v(" "),t("p",[s._v("并且我们需要需要配置 package.json")]),s._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"sideEffects"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n")])])]),t("p",[s._v("sideEffects ：当我们配置了比如：\nimport './style.css';  css的话，我们并没有向外暴漏任何的东西，false 的话，就可能不会把 css 进入一个导入，给去除掉了。\nimport '@babel/properil'; babel的填充是给 window 是上加的，也并没有任何的导出，也可能会被摇晃掉。")]),s._v(" "),t("p",[s._v("我们可以配置为一个数组，表示过滤掉这些文件")]),s._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"sideEffects"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*.css'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@babel/properil'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("p",[s._v("Tree Shaking  只能摇晃掉 ES Module 暴漏的。 静态分析。")]),s._v(" "),t("p",[s._v("development\n/*! exports provided: add, munus */  默认会这么导入的")]),s._v(" "),t("p",[s._v("webpack.config.js 配置之后 就会开启")]),s._v(" "),t("p",[s._v("production\n生成环境下默认就会开启这个配置，所以不用配置")]),s._v(" "),t("p",[s._v("默认情况下 production 环境下就已经会摇晃掉没有引用的。")]),s._v(" "),t("p",[s._v("如果配置了\nsideEffects:false 就会对任何的东西都进行摇晃的。\n如果没有用到的文件，就直接全摇晃掉。什么代码都不加载")]),s._v(" "),t("p",[s._v("如果没有:\n如果没有用到的文件，暴漏出的摇晃掉。正常代码都加载")])])}),[],!1,null,null,null);a.default=r.exports}}]);